!function($){var container,minScrollTop,direction,running=!1,currentY=0,targetY=0,oldY=0,maxScrollTop=0,onRenderCallback=null,fricton=.95,vy=0,stepAmt=1,minMovement=.1,updateScrollTarget=function(amt){targetY+=amt,vy+=(targetY-oldY)*stepAmt,oldY=targetY},render=function(){(vy<-minMovement||vy>minMovement)&&(currentY+=vy,currentY>maxScrollTop?currentY=vy=0:currentY<minScrollTop&&(vy=0,currentY=minScrollTop),container.scrollTop(-currentY),vy*=fricton,onRenderCallback&&onRenderCallback())},animateLoop=function(){running&&(requestAnimFrame(animateLoop),render())},onWheel=function(e){e.preventDefault();var evt=e.originalEvent,delta=evt.detail?evt.detail*-1:evt.wheelDelta/40,dir=delta<0?-1:1;dir!=direction&&(vy=0,direction=dir),currentY=-container.scrollTop(),updateScrollTarget(delta)};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}();(function(){var distribution=[],done=null,scale=30;return function(n){if(0==n)return n;if(null!=done)return n*done;var abs=Math.abs(n);outer:do{for(var i=0;i<distribution.length;++i)if(abs<=distribution[i]){distribution.splice(i,0,abs);break outer}distribution.push(abs)}while(!1);var factor=scale/distribution[Math.floor(distribution.length/3)];return 500==distribution.length&&(done=factor),n*factor}})();$.fn.smoothWheel=function(){var options=jQuery.extend({},arguments[0]);return this.each(function(index,elm){"ontouchstart"in window||(container=$(this),container.bind("mousewheel",onWheel),container.bind("DOMMouseScroll",onWheel),targetY=oldY=container.scrollTop(),currentY=-targetY,minScrollTop=container.get(0).clientHeight-container.get(0).scrollHeight,options.onRender&&(onRenderCallback=options.onRender),options.remove?(log("122","smoothWheel","remove",""),running=!1,container.unbind("mousewheel",onWheel),container.unbind("DOMMouseScroll",onWheel)):running||(running=!0,animateLoop()))})}}(jQuery);